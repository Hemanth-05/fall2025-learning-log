# Date: 2025-09-02

## Topic: Internet Basics - IP Address, NAT, Ports, Web Servers

### 1. What is the Internet?
- A **global network of networks** that connects billions of devices.
- Data travels in **packets** across cables, routers, satellites, etc.
- Uses rules called **protocols** (TCP/IP, HTTP, DNS) so devices can communicate.

---

### 2. IP Addresses
- **IP (Internet Protocol) address** = like a postal address for devices.  
- Two kinds:
  - **Public IP** â†’ unique on the internet, assigned by your ISP (e.g., `74.125.xx.xx`).  
  - **Private IP** â†’ used inside local networks (e.g., `192.168.1.5`).  

ðŸ‘‰ Devices at home get **private IPs** from the router. The router itself has **one public IP**.

---

### 3. NAT (Network Address Translation)
- A process routers use to let multiple devices share one public IP.
- **How it works:**
  1. Device sends packet with private IP + source port.  
  2. Router replaces private IP with its public IP and assigns a new source port.  
  3. Router saves mapping in its **NAT table**.  
  4. Replies from the internet come back to the router, which looks up the table and forwards to the correct device.

ðŸ‘‰ Without NAT, billions of devices couldnâ€™t share limited IPv4 addresses.

---

### 4. Ports
- **Port = number (0â€“65535)** that identifies *which application/service* should handle data.  
- **Destination Port (server side):** fixed and well-known.  
  - `80` â†’ HTTP (websites)  
  - `443` â†’ HTTPS (secure websites)  
  - `25` â†’ SMTP (email)  
- **Source Port (client side):** random, temporary, chosen by your device to keep multiple connections separate.

ðŸ‘‰ Together, IP + Port = a **socket** that uniquely identifies a conversation.

---

### 5. Example: Laptop Accessing Facebook

#### Step 1: Inside Your Laptop
- Laptop has **private IP**: `192.168.1.5`  
- Browser picks random **source port**: `51432`  
- Packet looks like:  
  `192.168.1.5:51432 â†’ 157.240.xx.xx:443`

---

#### Step 2: Router (NAT Translation)
- Router has **public IP**: `74.125.xx.xx`  
- Rewrites packet:  
  `74.125.xx.xx:60001 â†’ 157.240.xx.xx:443`  
- Saves mapping in NAT table:  
  `74.125.xx.xx:60001 â†’ 192.168.1.5:51432`

---

#### Step 3: Across the Internet
- Packet travels across ISPs/backbones.  
- Facebook sees:  
  `74.125.xx.xx:60001 â†’ 157.240.xx.xx:443`

---

#### Step 4: Facebookâ€™s Reply
- Reply comes back as:  
  `157.240.xx.xx:443 â†’ 74.125.xx.xx:60001`

---

#### Step 5: Router Forwards
- Router checks NAT table.  
- Maps `60001` back to laptop.  
- Rewrites:  
  `157.240.xx.xx:443 â†’ 192.168.1.5:51432`

---

#### Step 6: Laptop Receives
- Laptop sees the packet arrive at source port `51432`.  
- Browser knows this is the Facebook tab â†’ page loads.

---

### 6. One Wi-Fi vs Different Wi-Fi
- **Same Wi-Fi/router:** devices share the same public IP, NAT + ports keep traffic separate.  
- **Different Wi-Fi networks:** each router has its own public IP, so devices appear different to the internet.  
- **Phone Wi-Fi vs mobile data:** switching networks changes your public IP.

### 7. Web Servers

#### What is a Web Server?
- Software (and sometimes the hardware it runs on) that listens for requests from clients (like browsers) over HTTP/HTTPS.  
- It then responds with the appropriate resource: a file, or data, or output from an application.  

ðŸ‘‰ Think of it as a **waiter**: it takes orders (requests), gets the food from the kitchen (application/database), and brings it back (response).

---

#### How it Works
1. Browser sends an **HTTP request** (e.g., `GET /index.html`).  
2. Web server receives it on port `80` (HTTP) or `443` (HTTPS).  
3. Web server either:  
   - Serves a **static file** (HTML, CSS, JS, image).  
   - Or passes the request to a backend **application server** (Node.js, Django, etc.) to generate a dynamic response.  
4. Response is sent back to the browser, which displays it.

---

### Examples of Web Servers
- **Apache HTTP Server** â†’ classic, widely used.  
- **Nginx** â†’ high performance, great with many concurrent connections.  
- **Microsoft IIS** â†’ for Windows servers.  
- **Caddy** â†’ simple, modern, auto HTTPS.  
- **Node.js/Express** â†’ you can write your own server in JavaScript.

---

#### Ports
- Web servers listen on **standard ports**:  
  - Port `80` â†’ HTTP (not secure)  
  - Port `443` â†’ HTTPS (secure, with SSL/TLS)  
- Custom ports (e.g., `3000`) are used during development.

---

âœ… **In one line:** A **web server** listens for web requests, finds or generates the correct response, and sends it back to the client.  

---

### 8. How Servers Send Data (HTML vs JSON vs Hybrid)

### HTML Response
- Server sends **full HTML pages**.  
- Browser displays them directly.  
- Template is usually the same for everyone.  
- Example: Traditional news websites.

---

#### JSON/Data Response
- Server sends **raw data (JSON)**.  
- Browser/frontend code decides how to render it.  
- Allows custom apps/frontends to consume the same API.  
- Example: A REST API returning JSON like:  
  ```json
  [
    {"author": "Alice", "message": "Hello"},
    {"author": "Bob", "message": "Good morning"}
  ]
  ```

---

#### Hybrid (Most Modern Apps, e.g., Facebook)
1. Server first sends **HTML/CSS/JS shell** (the template).  
2. Browser loads the page and runs the JavaScript.  
3. JavaScript makes **API calls** in the background to fetch JSON data.  
4. Browser dynamically updates the page with that data.  

ðŸ‘‰ Layout/template is the same for all users, but data is personalized. Eg: Facebook, Instagram.

---

âœ… **In one line:**  
- Servers can send **HTML** (ready to display), **JSON** (raw data to be rendered), or a **mix of both**.  
- Modern apps (like Facebook) combine templates + JSON APIs.  

---

| Response Type | Rendering Style | Who Builds Page?    | Example                      |
| ------------- | --------------- | ------------------- | ---------------------------- |
| **HTML**      | SSR             | Server              | Old-style sites, blogs, news |
| **JSON**      | CSR             | Browser (client JS) | React app fetching API data  |
| **Hybrid**    | SSR + CSR       | Server + Browser    | Facebook, Twitter, Gmail     |
SSR - Server Side Rendering
CSR - Client Side Rendering

âœ… **Rule of Thumb**  
- **IP** = which device/network.  
- **Port** = which app/service.  
- **NAT** = routerâ€™s translator, letting many devices share one public IP.  
- **Web server** = the waiter, delivering pages or data.  
- **Server responses** = can be HTML, JSON, or both.
