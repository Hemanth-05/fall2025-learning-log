# Date: 2025-09-24
## Topics Covered: Introduction to SQL

- SQL is the standard query language of the relational database.
- SQL Statements are the instructions that tell the database what actions to perform.
- A statement is composed of sequence of tokens, terminated by a semi-colon.

- A token can be
    - A Keyword such as **SELECT**, **UPDATE** or **VALUES**
    - An Identifer: Name of the database object such as column, table or database
    - A literal: A string or a number. Strings are enclosed by single quotes

Example:
``` sql
SELECT firstname, lastname
FROM Employees
WHERE lastname = @TargetName;
```

Keywords - SELECT, FROM, WHERE (They are reserved words that tell SQL what action to perform)
Identifers - firstname, lastname, Employees
Literal - 'Smith'

### Valid Identifiers:
- Must begin with a letter (Aâ€“Z, aâ€“z) or an underscore (_).
- Can contain letters, digits (0â€“9), and underscores.
- Maximum of 63 characters.
- Avoid reserved keywords

### Postgres Naming Conventions
Covventions doesn't mean rules, its just agreed upon practices for readability, consistency, and maintainability.
    - Postgres folds unquoted identifiers to lowercase, so using lowercase
    avoids confusion.
    - Use underscores to separate words, e.g., order_date
    - Use id as the primary key column name
    - Prefix foreign keys with the referenced table name, e.g., employee_id

### NULL VALUE

- NULL represents a missing, unknown, or undefined value.
- When arithmetic or comparison operators have one or more NULL operands, the result is NULL. 
    - 3 + NULL = NULL
    - 100 > NULL, 300 != NULL both evaluate to NULL
- Use IS NULL or IS NOT NULL operator to check if a value is or is not NULL

#### Logical Operatiors with NULL

In SQL, logical operators (`AND`, `OR`, `NOT`) work with **three values**:  
- `TRUE`  
- `FALSE`  
- `NULL` (represents **UNKNOWN**)  

This leads to special truth table behavior.

---

##### 1. TRUE AND NULL
- `AND` is only true if **both sides are definitely true**.  
- One side is `TRUE`, the other is `UNKNOWN`.  
- Result â†’ `UNKNOWN (NULL)` âœ…  

ðŸ‘‰ **TRUE AND NULL = NULL**

---

##### 2. TRUE OR NULL
- `OR` is true if **at least one side is definitely true**.  
- One side is `TRUE`.  
- Result â†’ `TRUE` âœ…  

ðŸ‘‰ **TRUE OR NULL = TRUE**

---

##### 3. FALSE AND NULL
- `AND` requires both to be true.  
- One side is `FALSE`.  
- Result â†’ `FALSE` âœ…  

ðŸ‘‰ **FALSE AND NULL = FALSE**

---

##### 4. FALSE OR NULL
- `OR` is true if at least one side is true.  
- One side is `FALSE`, the other is `UNKNOWN`.  
- Result â†’ `UNKNOWN (NULL)` âœ…  

ðŸ‘‰ **FALSE OR NULL = NULL**

---

##### 5. NULL AND NULL
- Both are `UNKNOWN`.  
- Cannot confirm either as true.  
- Result â†’ `UNKNOWN (NULL)` âœ…  

ðŸ‘‰ **NULL AND NULL = NULL**

---

##### 6. NULL OR NULL
- Both are `UNKNOWN`.  
- Cannot confirm either as true.  
- Result â†’ `UNKNOWN (NULL)` âœ…  

ðŸ‘‰ **NULL OR NULL = NULL**

---

##### 7. NOT NULL
- `NOT` flips `TRUE` â†” `FALSE`.  
- But `NULL` means `UNKNOWN`. Flipping doesnâ€™t help.  
- Result â†’ `UNKNOWN (NULL)` âœ…  

ðŸ‘‰ **NOT NULL = NULL**

### Creating a Table

``` sql 
CREATE TABLE IF NOT EXISTS employees(
	id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	first_name VARCHAR(50) NOT NULL,
	last_name VARCHAR(50) NOT NULL,
	email VARCHAR(100) UNIQUE,
	is_active BOOLEAN DEFAULT true,
	hire_date DATE NOT NULL,	
	salary DECIMAL(10, 2) CHECK (salary > 0),
	department_id INT,
	
	FOREIGN KEY (department_id)
	REFERENCES departments(id)
	ON DELETE SET NULL
);
```
"id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY" - Basically what this statement does is, Creates an integer column id, automatically generates sequential unique values (identity), makes it the primary key of the table.

The things that you see at the end of the column creation like NOT NULL or PRIMARY KEY are the column constraints. The constraints at the end after all columns are created are the table constraints. Foreign Key is always kept as the table constraint.

### Clearing Data and Deleting Table

- TRUNCATE TABLE table_name
    Used if we want to clear all the data inside the table. TRUNCATE clears data only, but keeps the structure + constraints + schema intact.

- DROP TABLE [IF EXISTS] table_name
    Used to delete the table

### Alter
- Used to change the structure of a table. we can pretty much alter anything with this command. 
Examples include:
    - Renaming the table name
    - Adding table constraints
    - Dropping table constraints
    - Renaming the column name
    - Adding columns
    - Dropping columns
    - Changing the datatype of the column
    - Changing the default values of the columns
    - Changing the column constraints

In short, ALTER is used to reshape the table's blueprint. 